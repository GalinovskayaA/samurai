(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{306:function(e,t,c){e.exports={scroll:"chat_scroll__3PyJQ",textarea:"chat_textarea__1hIq3"}},308:function(e,t,c){"use strict";c.d(t,"a",(function(){return b}));var s=c(24),n=c(0),r=c(1),a=c.n(r),o=c(306),i=c.n(o),j=c(309),u=c.n(j),l=function(e){var t=e.chosenEmoji,c=e.onEmojiClick;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{children:[t?Object(n.jsxs)("span",{children:["You chose: ",t.emoji]}):Object(n.jsx)("span",{children:"No emoji Chosen"}),Object(n.jsx)(u.a,{onEmojiClick:c,preload:!0,pickerStyle:{width:"450px",height:"250px"}})]})})},b=a.a.memo((function(e){var t=e.sendMessageForm,c=e.status,a=e.showEmoji,o=Object(r.useState)(""),j=Object(s.a)(o,2),u=j[0],b=j[1],d=Object(r.useState)(),h=Object(s.a)(d,2),O=h[0],m=h[1],f=Object(r.useState)(),x=Object(s.a)(f,2),g=x[0],p=x[1],v=Object(r.useState)(!1),N=Object(s.a)(v,2)[1],E=new FileReader;E.onload=function(){m(E.result)};var C=function(){if(O)N(!0);else{if(!u)return;t(u),b("")}};return Object(n.jsxs)("div",{className:i.a.addMessageContent,children:[Object(n.jsx)("textarea",{onChange:function(e){b(e.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&(C(),b(""))},value:u,className:"".concat(i.a.textarea),children:" "}),Object(n.jsx)("button",{onClick:C,disabled:"ready"!==c,children:"Send"}),a&&Object(n.jsx)(l,{chosenEmoji:g,onEmojiClick:function(e,t){p(t),b(u+t.emoji)}})]})}))},315:function(e,t,c){"use strict";c.r(t),c.d(t,"MessagesChat",(function(){return x}));var s=c(24),n=c(0),r=c(1),a=c.n(r),o=c(306),i=c.n(o),j=c(60),u=c(15),l=a.a.memo((function(e){var t=e.message,c=e.photo,s=e.userId,r=e.userName;return Object(n.jsxs)("div",{className:"padding-s-tb border-b",children:[Object(n.jsxs)(u.b,{to:"/profile/"+s,children:[Object(n.jsx)("div",{className:i.a.userNameChat,children:r}),c?Object(n.jsx)("img",{src:c,className:"img-circle",alt:""}):Object(n.jsx)(j.a,{})]}),Object(n.jsx)("div",{className:i.a.message,children:t})]})})),b=c(7),d=c(137),h=c(308),O=c(13),m=c(34),f=function(){Object(m.a)();var e=Object(b.d)((function(e){return e.chat.status})),t=Object(b.c)();Object(r.useEffect)((function(){return t(Object(d.c)()),function(){t(Object(d.d)())}}),[t]);return Object(n.jsxs)(n.Fragment,{children:["error"===e&&Object(n.jsx)("div",{children:" Some error occurred. Please refresh the page "}),Object(n.jsx)(x,{}),Object(n.jsx)(h.a,{sendMessageForm:function(e){t(Object(d.b)(e))},status:e,showEmoji:!0})]})},x=a.a.memo((function(){var e=Object(b.d)((function(e){return e.chat.messages})),t=Object(r.useRef)(null),c=Object(r.useState)(!0),a=Object(s.a)(c,2),o=a[0],j=a[1];return Object(r.useEffect)((function(){var e;o&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[o,e]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"col gap-offset ".concat(i.a.scroll),onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop)-t.clientHeight<200?!o&&j(!0):o&&j(!1)},children:[e.map((function(e,t){return Object(n.jsx)(l,{userId:e.userId,message:e.message,userName:e.userName,photo:e.photo},t)})),Object(n.jsx)("div",{ref:t,children:" "})]})})}));t.default=function(){return Object(b.d)((function(e){return e.auth.isAuth}))?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(f,{})}):Object(n.jsx)(O.a,{to:"/login"})}}}]);
//# sourceMappingURL=5.38794343.chunk.js.map